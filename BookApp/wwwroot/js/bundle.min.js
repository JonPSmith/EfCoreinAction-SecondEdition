var BookList=function(n,t){"use strict";function u(t,i){var r=n("#filter-value-group");i?(t.prop("disabled",!1),r.removeClass("dim-filter-value")):(t.prop("disabled",!0),r.addClass("dim-filter-value"))}function i(i,f,e){f=f||"";var o=n("#filter-value-dropdown");u(o,!1);i!=="NoFilter"&&n.ajax({url:r,data:{FilterBy:i}}).done(function(i){e||t.newTrace(i.traceIdentifier,i.numLogs);o.find("option").remove().end().append(n("<option><\/option>").attr("value","").text("Select filter..."));i.result.forEach(function(t){o.append(n("<option><\/option>").attr("value",t.value).text(t.text))});o.val(f);u(o,!0)}).fail(function(){alert("error")})}function f(t){var i=n(t).parents("form");i.submit()}var r=null;return{initialise:function(n,t,u){r=u;i(n,t,!0)},sendForm:function(n){f(n)},filterByHasChanged:function(t){var r=n(t).find(":selected").val();i(r);r==="0"&&f(t)},loadFilterValueDropdown:function(n,t){i(n,t)}}}(window.jQuery,LoggingDisplay),LoggingDisplay=function(n){"use strict";function c(){return e.find("input[name=displaySelect]:checked").val()}function l(){var u=t.requestLogs.length,r,i;for(n(".modal-title span").text(u),n("#all-select span").text(u),r=0,i=0;i<t.requestLogs.length;i++)t.requestLogs[i].isDb&&r++;n("#sql-select span").text(r)}function a(){l();r.modal()}function v(n){switch(n){case"Information":return"text-info";case"Warning":return"text-warning";case"Error":return"text-danger";case"Critical":return"text-danger bold";default:return""}}function o(){for(var r=c(),i='<div id="log-accordion">',n=0;n<t.requestLogs.length;n++)(r!=="sql"||t.requestLogs[n].isDb)&&(i+='<div class="card"><div class="card-header"><a class="card-link text-overflow-dots" data-toggle="collapse" href="#collapse'+n+'"><span class="'+v(t.requestLogs[n].logLevel)+'">'+t.requestLogs[n].logLevel+":&nbsp;<\/span>"+t.requestLogs[n].eventString+'<\/a><\/div><div id="collapse'+n+'" class="collapse" data-parent="#log-accordion"><div class="card-body white-space-pre">'+t.requestLogs[n].eventString+"<\/div><\/div><\/div>");i+="<\/div>";h.html(i)}function y(i){n.ajax({url:u,data:{traceIdentifier:i}}).done(function(n){t=n;o();a()}).fail(function(){alert("error")})}function p(){y(f)}function s(n,t){f=n;i.find(".badge").text(t+"+")}var u,t=null,f,i=n("#show-logs"),r=n("#log-modal"),h=r.find(".modal-body"),e=r.find("#displaySelect");return{initialise:function(n,t,r){u=n;s(t,r);i.unbind("click").bind("click",function(){p()});i.removeClass("d-none");e.unbind("change").bind("change",function(){o()})},newTrace:function(n,t){s(n,t)}}}(window.jQuery);